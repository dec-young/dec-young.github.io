<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>1. 接口文档 | Young的博客</title>
    <meta name="description" content="">
    <link rel="icon" href="/favicon.ico">
    
    <link rel="preload" href="/assets/css/0.styles.67ccb146.css" as="style"><link rel="preload" href="/assets/js/app.95a4e7e8.js" as="script"><link rel="preload" href="/assets/js/2.d57965b6.js" as="script"><link rel="preload" href="/assets/js/9.1acd5e3f.js" as="script"><link rel="prefetch" href="/assets/js/10.1560a828.js"><link rel="prefetch" href="/assets/js/11.ce60e132.js"><link rel="prefetch" href="/assets/js/12.643df798.js"><link rel="prefetch" href="/assets/js/13.1725ac88.js"><link rel="prefetch" href="/assets/js/3.6ce7473d.js"><link rel="prefetch" href="/assets/js/4.3db9f1f9.js"><link rel="prefetch" href="/assets/js/5.03e2c0f7.js"><link rel="prefetch" href="/assets/js/6.49f4c8ae.js"><link rel="prefetch" href="/assets/js/7.bc0bf95d.js"><link rel="prefetch" href="/assets/js/8.ea6afc6e.js">
    <link rel="stylesheet" href="/assets/css/0.styles.67ccb146.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">Young的博客</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/Home/" class="nav-link router-link-active">首页</a></div><div class="nav-item"><a href="http://dec-young.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计文章
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://dec-young.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/Home/" class="nav-link router-link-active">首页</a></div><div class="nav-item"><a href="http://dec-young.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  设计文章
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><a href="http://dec-young.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>作品整理</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home/Artworks/web-design.html" class="sidebar-link">web网页设计</a></li><li><a href="/Home/Artworks/App-design.html" class="sidebar-link">App设计</a></li><li><a href="/Home/Artworks/backend-design.html" class="sidebar-link">后台设计</a></li><li><a href="/Home/Artworks/mini-program.html" class="sidebar-link">小程序设计</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>前端学习</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/Home/web/" class="sidebar-link">前端学习</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Python量化学习</span> <!----></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="_1-接口文档"><a href="#_1-接口文档" class="header-anchor">#</a> 1. <a href="https://www.showdoc.cc/128719739414963" target="_blank" rel="noopener noreferrer">接口文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h1> <h1 id="_2-帮助文档"><a href="#_2-帮助文档" class="header-anchor">#</a> 2. 帮助文档</h1> <ol><li><a href="https://developers.weixin.qq.com/miniprogram/dev/framework/" target="_blank" rel="noopener noreferrer">小程序开发文档<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://developer.mozilla.org/zh-CN/" target="_blank" rel="noopener noreferrer">mdn<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li><a href="https://www.iconfont.cn/" target="_blank" rel="noopener noreferrer">阿里巴巴字体  iconfont<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h1 id="_3-项目搭建"><a href="#_3-项目搭建" class="header-anchor">#</a> 3. 项目搭建</h1> <h2 id="_3-1-新建小程序项目"><a href="#_3-1-新建小程序项目" class="header-anchor">#</a> 3.1. 新建小程序项目</h2> <blockquote><p>填入自己的appid</p></blockquote> <h2 id="_3-2-搭建目录结构"><a href="#_3-2-搭建目录结构" class="header-anchor">#</a> 3.2. 搭建目录结构</h2> <table><thead><tr><th>目录名</th> <th>作用</th></tr></thead> <tbody><tr><td>styles</td> <td>存放公共样式</td></tr> <tr><td>components</td> <td>存放组件</td></tr> <tr><td>lib</td> <td>存放第三方库</td></tr> <tr><td>utils</td> <td>自己的帮助库</td></tr> <tr><td>request</td> <td>自己的接口帮助库</td></tr></tbody></table> <h2 id="_3-3-搭建项目的页面"><a href="#_3-3-搭建项目的页面" class="header-anchor">#</a> 3.3. 搭建项目的页面</h2> <table><thead><tr><th>页面名称</th> <th>名称</th></tr></thead> <tbody><tr><td>首页</td> <td>index</td></tr> <tr><td>分类页面</td> <td>category</td></tr> <tr><td>商品列表页面</td> <td>goods_list</td></tr> <tr><td>商品详情页面</td> <td>goods_detail</td></tr> <tr><td>购物车页面</td> <td>cart</td></tr> <tr><td>收藏页面</td> <td>collect</td></tr> <tr><td>订单页面</td> <td>order</td></tr> <tr><td>搜索页面</td> <td>search</td></tr> <tr><td>个人中心页面</td> <td>user</td></tr> <tr><td>意见反馈页面</td> <td>feedback</td></tr> <tr><td>登录页面</td> <td>login</td></tr> <tr><td>授权页面</td> <td>auth</td></tr> <tr><td>结算页面</td> <td>pay</td></tr></tbody></table> <h2 id="_3-4-引入字体图标"><a href="#_3-4-引入字体图标" class="header-anchor">#</a> 3.4. 引入字体图标</h2> <ol><li>打开阿里巴巴字体图标 网站</li> <li>选择的图标</li> <li>添加至项目</li> <li>下载到本地</li> <li>将样式文件 由 css 修改为 wxss</li> <li>小程序中引入</li></ol> <h2 id="_3-5-搭建项目tabbar结构"><a href="#_3-5-搭建项目tabbar结构" class="header-anchor">#</a> 3.5. 搭建项目tabbar结构</h2> <p>参照之前讲解的小程序基础中的tabbar知识点</p> <h1 id="_4-首页"><a href="#_4-首页" class="header-anchor">#</a> 4. 首页</h1> <h2 id="_4-1-效果"><a href="#_4-1-效果" class="header-anchor">#</a> 4.1. 效果</h2> <p><img src="medias/1554992085370.png" alt="1554992085370"></p> <h2 id="_4-2-业务逻辑"><a href="#_4-2-业务逻辑" class="header-anchor">#</a> 4.2. 业务逻辑</h2> <ol><li>使用<strong>tabbar</strong> 实现底部导航功能</li> <li>使用自定义组件的方式 实现 <strong>头部搜索框</strong></li> <li>加载 <strong>轮播图</strong> 数据</li> <li>加载 <strong>导航</strong> 数据</li> <li>加载 <strong>楼层</strong> 数据</li></ol> <h2 id="_4-3-接口"><a href="#_4-3-接口" class="header-anchor">#</a> 4.3. 接口</h2> <ol><li><p>获取首页轮播图数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/home/swiperdata
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>获取首页分类菜单数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/home/catitems
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>获取首页 楼层数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/home/floordata
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_4-4-关键技术"><a href="#_4-4-关键技术" class="header-anchor">#</a> 4.4. 关键技术</h2> <ul><li>小程序内置   <code>request API</code></li> <li>es6的<code>promise</code></li> <li>小程序 <code>swiper</code> 组件</li> <li>自定义组件 实现 搜索框</li></ul> <h1 id="_5-分类页面"><a href="#_5-分类页面" class="header-anchor">#</a> 5. 分类页面</h1> <h2 id="_5-1-效果"><a href="#_5-1-效果" class="header-anchor">#</a> 5.1. 效果</h2> <p><img src="medias/1554995640381.png" alt="1554995640381"></p> <h2 id="_5-2-业务逻辑"><a href="#_5-2-业务逻辑" class="header-anchor">#</a> 5.2. 业务逻辑</h2> <ol><li>加载分类页面数据</li> <li>点击左侧菜单，右侧数据动态渲染</li></ol> <h2 id="_5-3-接口"><a href="#_5-3-接口" class="header-anchor">#</a> 5.3. 接口</h2> <ol><li><p>分类页面数据</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>https<span class="token operator">:</span><span class="token comment">//api.zbztb.cn/api/public/v1/categories</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_5-4-关键技术"><a href="#_5-4-关键技术" class="header-anchor">#</a> 5.4. 关键技术</h2> <ul><li><code>scroll-view</code> 组件</li> <li>es7的 <code>async</code> 和 <code>await</code></li></ul> <h2 id="_5-5-小程序中支持es7的async语法"><a href="#_5-5-小程序中支持es7的async语法" class="header-anchor">#</a> 5.5. 小程序中支持es7的async语法</h2> <p>es7的<code>async</code>号称是解决回调的最终方案</p> <ol><li><p>在小程序的开发工具中，勾选 es6转es5语法</p></li> <li><p>下载 facebook的regenerator库中的 <a href="https://github.com/facebook/regenerator/blob/5703a79746fffc152600fdcef46ba9230671025a/packages/regenerator-runtime/runtime.js" target="_blank" rel="noopener noreferrer">regenerator/packages/regenerator-runtime/runtime.js<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>在小程序目录下新建文件夹 <code>lib/runtime/runtime.js</code>，将代码拷贝进去</p></li> <li><p>在每一个需要使用async语法的页面js文件中，都引入（不能全局引入）</p> <div class="language-js line-numbers-mode"><pre class="language-js"><code><span class="token keyword">import</span> regeneratorRuntime <span class="token keyword">from</span> <span class="token string">'../../lib/runtime/runtime'</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h1 id="_6-商品列表页面"><a href="#_6-商品列表页面" class="header-anchor">#</a> 6. 商品列表页面</h1> <h2 id="_6-1-效果"><a href="#_6-1-效果" class="header-anchor">#</a> 6.1. 效果</h2> <p><img src="medias/1563783986269.png" alt="1563783986269"></p> <h2 id="_6-2-业务逻辑"><a href="#_6-2-业务逻辑" class="header-anchor">#</a> 6.2. 业务逻辑</h2> <ol><li>加载商品列表数据</li> <li>启用下拉页面功能
<ol><li>页面的json文件中开启设置 <code>enablePullDownRefresh:true</code></li> <li>页面的js中，绑定事件 <code>onPullDownRefresh</code></li></ol></li> <li>启用上拉页面功能 <code>onReachBottom</code> <strong>页面触底事件</strong></li> <li>加载下一页功能</li></ol> <h2 id="_6-3-接口"><a href="#_6-3-接口" class="header-anchor">#</a> 6.3. 接口</h2> <ol><li><p>商品列表搜索</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>https<span class="token operator">:</span><span class="token comment">//api.zbztb.cn/api/public/v1/goods/search</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_6-4-关键技术"><a href="#_6-4-关键技术" class="header-anchor">#</a> 6.4. 关键技术</h2> <ul><li>小程序配置文件中 <strong>启用上拉</strong> 和<strong>下拉</strong>功能</li> <li><strong>搜索框</strong>和<strong>tab栏</strong>是小程序的<strong>自定义组件</strong>(有组件事件和参数交互)</li></ul> <h1 id="_7-商品详情页面"><a href="#_7-商品详情页面" class="header-anchor">#</a> 7. 商品详情页面</h1> <h2 id="_7-1-效果"><a href="#_7-1-效果" class="header-anchor">#</a> 7.1. 效果</h2> <p><img src="medias/1563874257233.png" alt="1563874257233"></p> <h2 id="_7-2-业务逻辑"><a href="#_7-2-业务逻辑" class="header-anchor">#</a> 7.2. 业务逻辑</h2> <ol><li>渲染商品详情数据</li> <li>点击图片，<a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.previewImage.html" target="_blank" rel="noopener noreferrer">调出图片画廊，进行预览<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li> <li>点击收藏</li> <li>联系客服</li> <li>分享功能</li> <li>加入购物车</li></ol> <h2 id="_7-3-接口"><a href="#_7-3-接口" class="header-anchor">#</a> 7.3. 接口</h2> <ol><li><p>获取详情数据接口</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/goods/detail
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>加入购物车接口 <em>使用本地存储来维护购物车数据</em></p></li> <li><p>立即购买接口  (相当于是 创建订单接口)</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/my/orders/create
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_7-4-关键技术"><a href="#_7-4-关键技术" class="header-anchor">#</a> 7.4. 关键技术</h2> <ul><li>swiper组件</li> <li>本地存储实现 收藏功能</li> <li><strong>联系客服</strong>  小程序管理后台中 直接添加即可</li> <li>富文本标签 渲染 富文本</li> <li>小程序 预览图片接口</li></ul> <h1 id="_8-收藏页"><a href="#_8-收藏页" class="header-anchor">#</a> 8. 收藏页</h1> <h2 id="_8-1-效果"><a href="#_8-1-效果" class="header-anchor">#</a> 8.1. 效果</h2> <p><img src="medias/1555940202983.png" alt="1555940202983"></p> <h2 id="_8-2-业务逻辑"><a href="#_8-2-业务逻辑" class="header-anchor">#</a> 8.2. 业务逻辑</h2> <ol><li>获取本地存储中的数据进行渲染</li> <li>点击商品可以跳转到商品详情页面</li></ol> <h2 id="_8-3-接口"><a href="#_8-3-接口" class="header-anchor">#</a> 8.3. 接口</h2> <p>无</p> <h2 id="_8-4-关键技术"><a href="#_8-4-关键技术" class="header-anchor">#</a> 8.4. 关键技术</h2> <ul><li>小程序 自定义组件</li> <li>本地存储 加载收藏数据</li></ul> <h1 id="_9-购物车页面"><a href="#_9-购物车页面" class="header-anchor">#</a> 9. 购物车页面</h1> <h2 id="_9-1-效果"><a href="#_9-1-效果" class="header-anchor">#</a> 9.1. 效果</h2> <p><img src="medias/1555032768782.png" alt="1555032768782"></p> <h2 id="_9-2-业务逻辑"><a href="#_9-2-业务逻辑" class="header-anchor">#</a> 9.2. 业务逻辑</h2> <ol><li>渲染购物车数据</li> <li>添加收货地址</li> <li>修改商品数量</li> <li>单选和全选功能</li></ol> <h2 id="_9-3-接口"><a href="#_9-3-接口" class="header-anchor">#</a> 9.3. 接口</h2> <ol><li>获取购物车数据 <em>本地存储实现</em></li> <li><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.chooseAddress.html" target="_blank" rel="noopener noreferrer">调用微信的收货地址<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h2 id="_9-4-关键技术"><a href="#_9-4-关键技术" class="header-anchor">#</a> 9.4. 关键技术</h2> <ul><li><p>小程序 选择收货地址 <code>api</code></p></li> <li><p>小程序 复选框 组件</p></li></ul> <h1 id="_10-支付页面"><a href="#_10-支付页面" class="header-anchor">#</a> 10. 支付页面</h1> <h2 id="_10-1-效果"><a href="#_10-1-效果" class="header-anchor">#</a> 10.1. 效果</h2> <p><img src="medias/1565331397401.png" alt="1565331397401"></p> <h2 id="_10-2-业务逻辑"><a href="#_10-2-业务逻辑" class="header-anchor">#</a> 10.2. 业务逻辑</h2> <ol><li>获取微信收货地址</li> <li>渲染购物车中要结算的商品</li> <li>实现支付
<ol><li>获取微信的登录信息</li> <li>获取自己后台返回的支付相关参数</li> <li>调用微信接口实现 支付</li> <li>支付成功创建订单</li> <li>跳转到订单页面</li></ol></li></ol> <h2 id="_10-3-支付流程"><a href="#_10-3-支付流程" class="header-anchor">#</a> 10.3. 支付流程</h2> <p><img src="medias/1558716128178.png" alt="1558716128178"></p> <h2 id="_10-4-接口"><a href="#_10-4-接口" class="header-anchor">#</a> 10.4. 接口</h2> <ol><li><p>获取预支付参数</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/my/orders/req_unifiedorder
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>创建订单</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/my/orders/create
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>更新订单状态</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/my/orders/chkOrder
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_10-5-关键技术"><a href="#_10-5-关键技术" class="header-anchor">#</a> 10.5. 关键技术</h2> <ul><li>小程序 支付 api</li></ul> <h1 id="_11-授权页面"><a href="#_11-授权页面" class="header-anchor">#</a> 11. 授权页面</h1> <h2 id="_11-1-效果"><a href="#_11-1-效果" class="header-anchor">#</a> 11.1. 效果</h2> <p><img src="medias/1558712512940.png" alt="1558712512940"></p> <h2 id="_11-2-业务逻辑"><a href="#_11-2-业务逻辑" class="header-anchor">#</a> 11.2. 业务逻辑</h2> <p><img src="medias/1558712552565.png" alt="1558712552565"></p> <ol><li><p>获取用户信息</p> <p>返回  <code>encryptedData,rawData,iv,signature</code></p></li> <li><p>小程序登录</p> <p>返回 <code>code</code></p></li> <li><p>提交数据到自己 的后台 执行post请求 提交数据</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>encryptedData<span class="token punctuation">,</span>rawData<span class="token punctuation">,</span>iv<span class="token punctuation">,</span>signature code
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>将<code>token</code>和用户数据<code>rawData</code>存入本地存储</p></li></ol> <h2 id="_11-3-接口"><a href="#_11-3-接口" class="header-anchor">#</a> 11.3. 接口</h2> <ol><li><p>提交数据到后台 返回token</p> <div class="language-json line-numbers-mode"><pre class="language-json"><code>https<span class="token operator">:</span><span class="token comment">//api.zbztb.cn/api/public/v1/users/wxlogin</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h1 id="_12-订单列表页面"><a href="#_12-订单列表页面" class="header-anchor">#</a> 12. 订单列表页面</h1> <h2 id="_12-1-效果"><a href="#_12-1-效果" class="header-anchor">#</a> 12.1. 效果</h2> <p><img src="medias/1556355053889.png" alt="1556355053889"></p> <h2 id="_12-2-业务逻辑"><a href="#_12-2-业务逻辑" class="header-anchor">#</a> 12.2. 业务逻辑</h2> <ol><li>根据不同的的状态去加载不同的订单数据</li> <li>点击标题紧挨着对应数据</li></ol> <h2 id="_12-3-接口"><a href="#_12-3-接口" class="header-anchor">#</a> 12.3. 接口</h2> <ol><li><p>查询订单数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/my/orders/all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_12-4-关键技术"><a href="#_12-4-关键技术" class="header-anchor">#</a> 12.4. 关键技术</h2> <ul><li><p>小程序 自定义组件的 传参  父向子动态传参 <code>this.selectComponent(&quot;#tabs&quot;);</code></p></li> <li><p>时间戳 格式化处理</p></li></ul> <h1 id="_13-搜索页面"><a href="#_13-搜索页面" class="header-anchor">#</a> 13. 搜索页面</h1> <h2 id="_13-1-效果"><a href="#_13-1-效果" class="header-anchor">#</a> 13.1. 效果</h2> <p><img src="medias/1555036722096.png" alt="1555036722096"></p> <h2 id="_13-2-接口"><a href="#_13-2-接口" class="header-anchor">#</a> 13.2. 接口</h2> <ol><li><p>搜索建议查询</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/goods/qsearch
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_13-3-业务逻辑"><a href="#_13-3-业务逻辑" class="header-anchor">#</a> 13.3. 业务逻辑</h2> <ol><li>获取输入框的值进行搜索和渲染</li> <li>点击 <strong>取消</strong> 按钮时 清除输入状态，修改页面模样</li></ol> <h2 id="_13-4-关键技术"><a href="#_13-4-关键技术" class="header-anchor">#</a> 13.4. 关键技术</h2> <ol><li>小程序 输入框组件</li> <li>输入值改变时，为了提高性能，使用 <strong>防抖</strong> 技术</li></ol> <h1 id="_14-个人中心页面"><a href="#_14-个人中心页面" class="header-anchor">#</a> 14. 个人中心页面</h1> <h2 id="_14-1-效果"><a href="#_14-1-效果" class="header-anchor">#</a> 14.1. 效果</h2> <p><img src="medias/1555054148665.png" alt="1555054148665"></p> <h2 id="_14-2-业务逻辑"><a href="#_14-2-业务逻辑" class="header-anchor">#</a> 14.2. 业务逻辑</h2> <ol><li>获取登录信息</li> <li>加载收藏信息</li> <li>查询订单状态</li></ol> <h2 id="_14-3-接口"><a href="#_14-3-接口" class="header-anchor">#</a> 14.3. 接口</h2> <ol><li><p><a href="https://developers.weixin.qq.com/miniprogram/dev/api/wx.getUserInfo.html?search-key=getuser" target="_blank" rel="noopener noreferrer">获取用户信息<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></li> <li><p>获取收藏数据 <em>从本地存储中获取</em></p></li> <li><p>获取订单数据</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://api.zbztb.cn/api/public/v1/my/orders/all
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li></ol> <h2 id="_14-4-关键技术"><a href="#_14-4-关键技术" class="header-anchor">#</a> 14.4. 关键技术</h2> <ol><li><a href="https://www.runoob.com/cssref/css3-pr-filter.html" target="_blank" rel="noopener noreferrer">css属性filter的使用<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ol> <h1 id="_15-意见反馈页面"><a href="#_15-意见反馈页面" class="header-anchor">#</a> 15. 意见反馈页面</h1> <h2 id="_15-1-效果"><a href="#_15-1-效果" class="header-anchor">#</a> 15.1. 效果</h2> <p><img src="medias/1556268645343.png" alt="1556268645343"></p> <h2 id="_15-2-业务逻辑"><a href="#_15-2-业务逻辑" class="header-anchor">#</a> 15.2. 业务逻辑</h2> <ol><li><p>点击 <code>+</code> 可以选择本地图片，并且显示到页面上</p></li> <li><p>点击 <strong>提交</strong> 可以上传图片到  接口 地址  新浪图床 上</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>https://images.ac.cn/Home/Index/UploadAction/
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div></li> <li><p>点击图片，会移除自己</p></li> <li><p>点击 tab栏的标题，可以切换选中效果</p></li></ol> <h2 id="_15-3-接口"><a href="#_15-3-接口" class="header-anchor">#</a> 15.3. 接口</h2> <p>无</p> <h2 id="_15-4-关键技术"><a href="#_15-4-关键技术" class="header-anchor">#</a> 15.4. 关键技术</h2> <ol><li>自定义组件 tab</li> <li>自定义组件  图片删除组件</li> <li>小程序 上传文件  api</li></ol></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.95a4e7e8.js" defer></script><script src="/assets/js/2.d57965b6.js" defer></script><script src="/assets/js/9.1acd5e3f.js" defer></script>
  </body>
</html>
